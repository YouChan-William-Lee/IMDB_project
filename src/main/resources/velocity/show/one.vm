#parse("/velocity/layout.vm")
#@mainLayout()
    #if($user)
        #if($user.typeOfUser.equals("admin"))
            <form id="signinForm" method="post">
                <input type="submit" value="Delete this show">
            </form>
            <form id="signinForm" method="get" action="/shows/$show.showID/editshow">
                <input type="submit" value="Edit this show">
            </form>
        </form>
        #end
    #end
    #if($show)
        <center><h2><b>$show.showTitle</b></h2></center>
        <br>
        <div class="row row-2">
            <div class="col">
                <h2><b>Genre:</b><br>$show.genre</h2>
                <h2><b>Length:</b><br>$show.getLengthHour()h $show.getLengthMinute()m</h2>
                <h2><b>Series:</b><br>$show.series</h2>
                <h2><b>Released year:</b><br>$show.year</h2>
                <h2><b>Production company:</b><br>$show.PCO</h2>
            </div>
            <div class="col">
                <h2><b>Cast</b></h2>
                #foreach($credit in $show.credits_roll.keySet())
                    <h2>$show.credits_roll.get($credit)</h2>
                    <h3>-> Role: $credit</h3>
                    #foreach($cast in $casts)
                        #if($cast.getName().equals($show.credits_roll.get($credit)))
                            <h3>-> DOB: $cast.getBirthdate()</h3>
                            <h3>-> BIO: $cast.getBio()</h3>
                        #end
                    #end
                    <br>
                #end
            </div>
        </div>
    <div class="show">
        <div class="showCover">
            <img src="$show.Cover" alt="$show.showTitle">
        </div>
        <div class="showCover">
            <h2>Others review</h2>
            #foreach($review in $reviews)
                <span>User:$review.userId</span>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>Rating:$review.rating point</span>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>Review Time:$review.date</span>
                <br>
                <span>$review.review</span>
                <br>
                <br>
                <hr>
            #end
        </div>
        <div class="showCover">
            <h2>Add review</h2>
            <form id="ReviewForm" method="post" action="/review">
                <input type="hidden" name="showId" value="$show.showID" />
                <h3>Rating:</h3>
                <input name="rating" type="radio" value="1"/>1 point
                <input name="rating" type="radio" value="2"/>2 point
                <input name="rating" type="radio" value="3"/>3 point
                <input name="rating" type="radio" value="4"/>4 point
                <input name="rating" type="radio" value="5"/>5 point
                <h3>Review:</h3>
                <textarea rows="3" cols="100" style="margin: 5px" name="review"></textarea>
                <input type="submit" value="Add Review"/>
            </form>
        </div>
    </div>
    #else
    <h1>$msg.get("SHOWS_SHOW_NOT_FOUND")</h1>
    #end
#end
